<!DOCTYPE html>
<html>
 <head>
  <title>Display IP Address</title>
</head>
 
 
<script>

function httpGet()
{

var xhr = new XMLHttpRequest();
xhr.open('GET', "https://login.live.com/oauth20_authorize.srf?client_id=0000000603DB0F&scope=wl.signin%20wl.basic&response_type=code&redirect_uri=http%3A%2F%2Fwww.contoso.com%2Fcallback.php", true);
xhr.send();
xhr.addEventListener("readystatechange", processRequest, true);
xhr.onreadystatechange = processRequest;

function processRequest(e) 
{
 window.alert("inside processRequest()");
 
    if (xhr.readyState == 4 && xhr.status == 200) 
    {
        //var response = JSON.parse(xhr.responseText);
        window.alert(response.ip);
        
    }
}


}

</script>
<button onclick="httpGet()"> token1 </button>

</html>







<!--<html>
  <head>
    
    <script type="text/javascript" src="https://js.live.net/v7.0/OneDrive.js"></script>
    
      <script type="text/javascript">
        var data;
        function launch2() {
         
           var odOptions = {
                          clientId: "eb8f333c-fc44-4183-b60b-c4c8c50e2509",
                          action: "save",
                          sourceInputElementId: "fileUploadControl",
                          sourceUri: "",
                          fileName: "fil.txt",
                          openInNewWindow: true,
                          advanced: {},
                        
                          success: function(files) { console.log('success');},
             
                          progress: function(p) {     window.alert("sdfdsdgdf");console.log("2"); },
                          cancel: function() {console.log("3"); },
                          error: function(e) { console.log(e); }
                        };
                      
                        console.log("6");
                      OneDrive.save(odOptions);
        }
        function launch() {
           
                      var odOptions = {
                          clientId: "eb8f333c-fc44-4183-b60b-c4c8c50e2509",
                          action: "save",
                       // sourceInputElementId: "",
                          sourceUri: data,
                          fileName: "fil.txt",
                          openInNewWindow: true,
                          advanced: {},
                          success: function(files) { console.log('success');},
                          progress: function(p) { console.log("2"); },
                          cancel: function() {console.log("3"); },
                          error: function(e) { console.log(e); }
                        };
                        
                        console.log("6");
                      OneDrive.save(odOptions);
        }
        var openfile= function(event){

             var input= event.target;
             var reader=new FileReader();

              var save = function (dataURL){
                       data=dataURL;
                      
                    };
   
              
              reader.onload= function() {
                save(reader.result);
                console.log("1");
              }
              reader.readAsDataURL(input.files[0]);
        }
</script>
</head>
<body>
    <input id="fileUploadControl" name="fileUploadControl" type="file" onchange="openfile(event)" />
    
    <button onclick="launch2()"> save to onedrive direct file </button>
    <button onclick="launch()"> save to onedrive using dataURL </button>
    
</body>
</html> 
